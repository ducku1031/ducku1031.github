---
layout: post
title: "Shell Programming 예제(미작성)"
description: "Shell Programming 예제"
categories: [Linux]
tags: [Linux 실습, Linux 명령어, Shell Script]
redirect_from:
  - /2020/08/19/
---

* Kramdown table of contents
{:toc .toc}


<br>

# Dircetory 생성 프로그램

1. 목적   
> 반복문을 사용하여 복수의 하위 Directory를 생성한다   
2. 상세
> Directory 내에 다시 하위 Directory를 중첩 반복문을 사용하여 생성한다.
3. 사용 명령어
` for 반복문 사용 `

` mkdir `



# 사용자 추가 프로그램
1. 목적
> 복수의 사용자를 추가한다.   
2. 사용 명령어

` while 반복문 `
~~~
while[조건문]
do
　　　command
done
~~~

`사용자 추가 명령어 `
~~~
useradd -m -d /export/home/[사용자 ID] -s /bin/bash [사용자 ID]
~~~

<br>
<b>
<span style="color:red">TIP</span>
</b>

~~~
$ echo "P@ssw0rd | --stdin user01
$ echo "user01:P@ssw0rd" | chpasswd   
~~~
▶ 위(CentOS), 아래(ubunut) 명령어는 같은 결과는 동일하다.

<br>


` vi useradd.sh `
~~~
#! /bin/bash

echo -n "Enter basename : "
read BASENAME                  # 유저를 생성시 기본 유저의 이름을 설정
echo -n "Start Number : "
read STARTNUM                  # 유저 이름의 뒤에 시작 숫자를 설정
echo -n "User Count : "
read USERCNT                   # 생성할 유저의 수를 설정 

(( USERCNT-- ))

for i in `seq 0 $USERCNT`      # 0 부터 $USECNT 까지 출력한다.
do
        USERNAME="$BASENAME`expr $STARTNUM + $i`"
        useradd -m -d /home/$USERNAME $USERNAME && echo "$USERNAME user created.."
        echo "P@ssw0rd" | --stdin $USERNAME && echo "$USERNAME Password set to P@ssw0rd"
        # (ubuntu 사용시) echo "$USERNAME:P@ssw0rd" | chpasswd && echo "$USERNAME password set to P@ssw0rd"
done
~~~


# 주요 파일 점검 프로그램

1. 목적
> 중요한 파일을 확인하는 스크립트   
2. 상세
> - 파일을 복사하여 사본을 보관   
> - 원본 파일이 없어졌을 경우 사본을 원본 위치로 복사   
> - diff를 사용하여 파일의 변경내용을 확인   
> - 변경사항 발생시 알림   
3. 사용 명령어

` diff `
~~~
diff [파일1][파일2]
~~~

` cp `
~~~
cp [원본파일][사본파일]
~~~

<br>

` vi filecheck.sh `
~~~
#!/bin/bash
# check file : test.txt

# Backup File Check
if [ -f test.txt.backup ] 
then
	# Backup file exist
	echo "Backup file found!"
else
	# Backup file doesn't exist
	cp test.txt test.txt.backup && echo "Backup File Created!"
	exit 0
fi

# File Exist Check
if [ -f test.txt ] 
then
	# Original file exist 
	echo "Original file found!"
else
	# Original file doesn't exist
	echo "Original file not found!"
	cp test.txt.backup test.txt && echo "File Recovered!"
	exit 0
fi

# File Same Chek
if diff test.txt test.txt.backup > /dev/null 2>&1
then
	# File same
	echo "File Check Complete!"
else
	# File not same
	echo "File Changed!"
	cp -f test.txt.backup test.txt && echo "File recovered!"
fi
~~~